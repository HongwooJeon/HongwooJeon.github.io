<!DOCTYPE html><html lang="ko" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Container 소개" /><meta name="author" content="Banjung" /><meta property="og:locale" content="ko" /><meta name="description" content="1. Summary" /><meta property="og:description" content="1. Summary" /><link rel="canonical" href="https://hongwoojeon.github.io/posts/Chap3-Container/" /><meta property="og:url" content="https://hongwoojeon.github.io/posts/Chap3-Container/" /><meta property="og:site_name" content="Banjung`s Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-04-10T22:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Container 소개" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@Banjung" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Banjung"},"dateModified":"2022-04-10T22:00:00+09:00","datePublished":"2022-04-10T22:00:00+09:00","description":"1. Summary","headline":"Container 소개","mainEntityOfPage":{"@type":"WebPage","@id":"https://hongwoojeon.github.io/posts/Chap3-Container/"},"url":"https://hongwoojeon.github.io/posts/Chap3-Container/"}</script><title>1. Container 소개 | Banjung`s Blog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Banjung`s Blog"><meta name="application-name" content="Banjung`s Blog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/favicons/android-chrome-192x192.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Banjung`s Blog</a></div><div class="site-subtitle font-italic">Banjung`s Blog</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/hongwoojeon" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['ghddnek1','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>1. Container 소개</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>1. Container 소개</h1><div class="post-meta text-muted"><div> By <em> Banjung </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1649595600" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-04-10 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="4414 words"> <em>24 min</em> read</span></div></div></div><div class="post-content"><h2 id="1-summary"><span class="mr-2">1. Summary</span><a href="#1-summary" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre><td class="rouge-code"><pre>## 컨테이너 생성
&gt; docker container create -it --name c1 centos

## 컨테이너 시작
&gt; docker container start c1

## 컨테이너 정지
&gt; docker container stop c1
&gt; docker container pause c2

## 컨테이너 생성 및 시작
&gt; docker container run -it centos
&gt; docker container run -it --name c2 centos

## 컨테이너 재시작
&gt; docker contaienr restart c1

## 컨테이너 삭제
&gt; docker container rm c1 c2
&gt; docker container unpause c2

## 컨테이너 확인
&gt; docker ps
&gt; docker container ls
&gt; docker container inspect c8f
</pre></table></code></div></div><h2 id="2-docker-container의-life-cycle"><span class="mr-2">2. Docker Container의 Life cycle</span><a href="#2-docker-container의-life-cycle" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li>Docker image가 만들어 졌으면 Container를 생성할 수 있다.<li><code class="language-plaintext highlighter-rouge">docker container COMMAND</code></ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre><td class="rouge-code"><pre>&gt; docker container --help
Usage:  docker container COMMAND
Manage containers
Commands:
  attach      Attach local standard input, output, and error streams to a running container
  commit      Create a new image from a container's changes
  cp          Copy files/folders between a container and the local filesystem
  create      Create a new container
  diff        Inspect changes to files or directories on a container's filesystem
  exec        Run a command in a running container
  export      Export a container's filesystem as a tar archive
  inspect     Display detailed information on one or more containers
  kill        Kill one or more running containers
  logs        Fetch the logs of a container
  ls          List containers
  pause       Pause all processes within one or more containers
  port        List port mappings or a specific mapping for the container
  prune       Remove all stopped containers
  rename      Rename a container
  restart     Restart one or more containers
  rm          Remove one or more containers
  run         Run a command in a new container
  start       Start one or more stopped containers
  stats       Display a live stream of container(s) resource usage statistics
  stop        Stop one or more running containers
  top         Display the running processes of a container
  unpause     Unpause all processes within one or more containers
  update      Update configuration of one or more containers
  wait        Block until one or more containers stop, then print their exit codes
</pre></table></code></div></div><ul><li>컨테이너를 조작하기 위한 기본 명령은 5가지 이다.</ul><div class="table-wrapper"><table><thead><tr><th>조작<th>Command<th>설명<tbody><tr><td>생성<td>docker container create<td>컨테이너를 시작할 준비가 된 상태<tr><td>생성 및 시작<td>docker container run<td>이미지로부터 컨테이너를 생성 및 실행<tr><td>시작<td>docker continer start<td>정지 중인 컨테이너를 시작<tr><td>정지<td>docker container stop<td>실행 중인 컨테이너를 정지<tr><td>삭제<td>docker container rm<td>컨테이너를 삭제</table></div><h2 id="3-container-생성-및-실행"><span class="mr-2">3. Container 생성 및 실행</span><a href="#3-container-생성-및-실행" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><h4 id="container-생성"><span class="mr-2"><strong>Container 생성</strong></span><a href="#container-생성" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p><code class="language-plaintext highlighter-rouge">docker contaienr create [OPTION] IMAGE [COMMAND] [ARG...]</code></p><ul><li>이미지로부터 컨테이너를 생성한다.</ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>&gt; docker container create --help
Usage:  docker create [OPTIONS] IMAGE [COMMAND] [ARG...]
Create a new container
Options:
      --add-host list                  Add a custom host-to-IP mapping
...&lt;생략&gt;...
  -w, --workdir string                 Working directory inside the container
</pre></table></code></div></div><ul><li>주요 옵션</ul><div class="table-wrapper"><table><thead><tr><th>Option<th>설명<tbody><tr><td>-t or –interactive<td>표준 입력을 사용할 수 있도록 한다.<tr><td>-t or tty<td>표준 출력 및 표준 에러를 터미널로 출력한다.<tr><td>–name<td>Container 이름을 지정한다.</table></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>도커 명령에서 자주 사용되는 옵션

-i 옵션은 컨테이너를 실행할 때 컨테이너 쪽 표준 입력과의 연결을 그대로 유지한다. 그러므로 컨테이너 쪽 쉘에 들어가서 명령을 실행 할 수 있다. 실제 사용에서는 -t 옵션과 함께 사용하는 경우가 많다. -t 옵션은 유사 터미널 기능을 활성화하는 옵션인데, -i 옵션을 사용하지 않으면 유사 터미널을 실행해도 여기에 입력할 수가 없으므로 -i와 -t 옵션을 같이 사용한다.
</pre></table></code></div></div><ul><li><code class="language-plaintext highlighter-rouge">Container를 생성할 때, -i 옵션과 -t 옵션을 같이 사용하여 표준 입출력이 가능한 Container를 생성</code> 한다.<li>Container를 생성하면 STATUS가 <code class="language-plaintext highlighter-rouge">Created</code> 이다.<ul><li>ex&gt; centos 이미지를 c1이름으로 컨테이너화한다.</ul></ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre>&gt; docker image ls
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
centos              latest              75835a67d134        12 days ago         200MB
pys6478/web         centos              75835a67d134        12 days ago         200MB
&gt; docker container create -it --name c1 centos
e9e056f426285681de9cfb08bde228db8f55ba268de08fcaae44830b4ee625a7
&gt; docker container ls
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
&gt; docker container ls -a(모든 상태의 컨테이너 조회)
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
e9e056f42628        centos              "/bin/bash"         5 seconds ago       Created                                 c1
</pre></table></code></div></div><h4 id="container-시작"><span class="mr-2"><strong>Container 시작</strong></span><a href="#container-시작" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p><code class="language-plaintext highlighter-rouge">docker container start [OPTIONS] CONTAINER [CONTAINER...]</code></p><ul><li>정지되어 있는 Container를 시작할 때는 <code class="language-plaintext highlighter-rouge">docker container start</code> 명령을 사용한다.</ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>&gt; docker container start --help
Usage:  docker container start [OPTIONS] CONTAINER [CONTAINER...]
Start one or more stopped containers
Options:
  -a, --attach               Attach STDOUT/STDERR and forward signals
      --detach-keys string   Override the key sequence for detaching a
                             container
  -i, --interactive          Attach container's STDIN
</pre></table></code></div></div><ul><li>Container를 시작하면 STATUS가 Created에서 <code class="language-plaintext highlighter-rouge">Up</code>으로 변한다.<ul><li>ex&gt; 정지된 C1 Container를 시작한다.</ul></ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>&gt; docker container ls -a
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
e9e056f42628        centos              "/bin/bash"         3 minutes ago       Created                                 c1
&gt; docker container start c1
c1
&gt; docker container ls
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
e9e056f42628        centos              "/bin/bash"         3 minutes ago       Up 2 seconds                            c1
</pre></table></code></div></div><ul><li>다수의 Container를 한꺼번에 시작하고 싶을 때는 인수에 Container 식별자를 여러개 지정한다.</ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>Shell 이미지와 Service 이미지의 차이점

centos: shell image
httpd: service image
shell 이미지는 -it 옵션을 하지 않으면 바로 종료된다.
</pre></table></code></div></div><h4 id="container-정지"><span class="mr-2"><strong>Container 정지</strong></span><a href="#container-정지" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p><code class="language-plaintext highlighter-rouge">docker container stop [OPTION] CONTAINER [CONTIANER...]</code></p><ul><li>실행 중인 Container를 정지할 때는 <code class="language-plaintext highlighter-rouge">docker container stop</code> 명령을 사용한다.</ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>&gt; docker container stop --help
Usage:  docker stop [OPTIONS] CONTAINER [CONTAINER...]
Stop one or more running containers
Options:
  -t, --time int   Seconds to wait for stop before killing it (default 10)
</pre></table></code></div></div><ul><li>STATUS가 <code class="language-plaintext highlighter-rouge">Exited</code>인 것을 확인할 수 있다.<ul><li>ex&gt; 실행 중인 C1 Container를 stop 한다.</ul></ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre>&gt; docker container ls
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
e9e056f42628        centos              "/bin/bash"         4 minutes ago       Up 59 seconds                           c1
&gt; docker container stop c1
c1
&gt; docker container ls
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
&gt; docker container ls -a
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                       PORTS               NAMES
e9e056f42628        centos              "/bin/bash"         4 minutes ago       Exited (137) 4 seconds ago                       c1
</pre></table></code></div></div><ul><li>정지 중인 모든 Container를 삭제하려면 <code class="language-plaintext highlighter-rouge">docker container prune</code> 명령을 사용한다.</ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre>&gt; docker container prune
WARNING! This will remove all stopped containers.
Are you sure you want to continue? [y/N] y
Deleted Containers:
38f3f39a879526fc9868f4ca9d2112a59270bd1b75ebb21f9a3693a1be1efb8c
1a62d5eddbf4c8891986f9fc0f18ea70a0bdd8a00e2972bf7fce1b8723a28b8d
f6f9f7ae93976f381723df812893efa428fb691f0dfb442155d575ef94a81a2d
345cd87a09fa9bf46e7c17d98b570dab51a863f9f6607e3be5c2d80f7a9bb7f5
afda6b0720c2becec6374754e18a0c6c41bdde328abd24ebde080a6f02bc511d
fc2d9ed61286d8920a1a8c24ff62ae71b6d4dce08ebfa65238e5492d9f51190a
589b6812962f235b934521ecefcbba599741d021b3599d8a92c1ed067c668e12
638ed23e4323c11d93cb1274bf14bbc879f34882007f847867617aeb77689e78
ebe7fa1c6caca51264380f2e2a4e65be6c4af0fa9756f2edc278c5f54671de13
Total reclaimed space: 1.754MB
</pre></table></code></div></div><h4 id="container-생성-및-실행"><span class="mr-2"><strong>Container 생성 및 실행</strong></span><a href="#container-생성-및-실행" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p><code class="language-plaintext highlighter-rouge">docker container run [OPTIONS] IMAGE [COMMAND] [ARG...]</code></p><ul><li>docker Container의 생성 및 시작은 <code class="language-plaintext highlighter-rouge">docker container run</code> 명령으로 실행한다.</ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>&gt; docker container run --help
Usage:  docker container run [OPTIONS] IMAGE [COMMAND] [ARG...]
Run a command in a new container
Options:
      --add-host list                  Add a custom host-to-IP mapping
                                       (host:ip)
  -a, --attach list                    Attach to STDIN, STDOUT or STDERR
...&lt;생략&gt;...
  -w, --workdir string                 Working directory inside the container
</pre></table></code></div></div><ul><li>ex&gt; 표준 입출력을 사용하도록 centos 이미지를 c2 이름으로 Container를 만들고 실행한다.<ul><li>-it 옵션 없이 실행하면 바로 종료된다.<li><code class="language-plaintext highlighter-rouge">Ctrl + P + Q</code> : Container 실행 중인 상태에서 빠져 나올 때 사용한다.<li>Container를 종료시키려면 <code class="language-plaintext highlighter-rouge">exit 명령</code>을 사용한다.<li><code class="language-plaintext highlighter-rouge">이름을 생략하면 Container 이름은 랜덤으로 자동 설정된다.</code></ul></ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>&gt; docker container run -it --name c2 centos
# exit
exit
&gt; docker container run -it centos
#
&gt; docker container ls -a
CONTAINER ID        IMAGE                     COMMAND                  CREATED             STATUS                     PORTS                 NAMES
d5cb4b73816d        centos                    "/bin/bash"              8 seconds ago       Up 7 seconds                                     ecstatic_montalcini
5367c9819caa        centos                    "/bin/bash"              2 minutes ago       Exited (0) 2 minutes ago                          c2
</pre></table></code></div></div><ul><li>Container 안에의 Shell을 실행할 수 있다.<ul><li>ex&gt; /bin/bash를 Container에서 실행한다.</ul></ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>&gt; docker container run -it --name c4 centos /bin/bash
#
&gt; docker container ls -a
CONTAINER ID        IMAGE                     COMMAND                  CREATED             STATUS                     PORTS                 NAMES
1a3b95c47f92        centos                    "/bin/bash"              13 seconds ago      Up 11 seconds                                    c4
</pre></table></code></div></div><ul><li><code class="language-plaintext highlighter-rouge">-d 옵션</code> : Container를 백그라운드로 실행한다.<ul><li>ex&gt; centos 이미지를 c3 이름으로 표준 입출력 백그라운드로 실행한다.</ul></ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>&gt; docker container run -d -it --name c3 centos
2ff8e89c352c83a58241a056dc6a7df86fde822e963ada8ef929ace4a333dae2
&gt; docker container ls
CONTAINER ID        IMAGE               COMMAND              CREATED             STATUS              PORTS               NAMES
2ff8e89c352c        centos              "/bin/bash"          3 seconds ago       Up 2 seconds                            c3
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre><td class="rouge-code"><pre>실행하자마자 종료되는 경우

백그라운드에서 동작(예시: 서버 기능하는 이미지) =&gt; 표준입출력(-it)

예제) 백그라운드에서 동작하는 http를 포그라운드에서 컨테이너를 실행시켜 보자.

&gt; docker container run -d --name web1 httpd
Unable to find image 'httpd:latest' locally
latest: Pulling from library/httpd
f17d81b4b692: Pull complete
06fe09255c64: Pull complete
0baf8127507d: Pull complete
1e5b6ba3cfcc: Pull complete
f09ae565a639: Pull complete
Digest: sha256:378951edb85bfd57ddaf2edf482ec62e552667bfc4deeaf326342d481ac526f0
Status: Downloaded newer image for httpd:latest
ca3d7fffa89ea18333a3d66e07e1a37b4700f556ba488ceeec2d1b04a49b0b84
&gt; docker image ls
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
httpd               latest              0240c8f5816c        2 days ago          132MB
&gt; docker container run -it --name web2 httpd
AH00558: httpd: Could not reliably determine the server's fully qualified domain name, using 172.17.0.3. Set the 'ServerName' directive globally to suppress this message
AH00558: httpd: Could not reliably determine the server's fully qualified domain name, using 172.17.0.3. Set the 'ServerName' directive globally to suppress this message
[Mon Oct 22 06:49:17.255292 2018] [mpm_event:notice] [pid 1:tid 140109860508864] AH00489: Apache/2.4.35 (Unix) configured -- resuming normal operations
[Mon Oct 22 06:49:17.255468 2018] [core:notice] [pid 1:tid 140109860508864] AH00094: Command line: 'httpd -D FOREGROUND'
C[Mon Oct 22 06:50:03.334138 2018] [mpm_event:notice] [pid 1:tid 140109860508864] AH00491: caught SIGTERM, shutting down
&gt; docker container ls -a
CONTAINER ID        IMAGE               COMMAND              CREATED              STATUS                        PORTS               NAMES
97d54155d306        httpd               "httpd-foreground"   About a minute ago   Exited (0) 27 seconds ago                         web2
</pre></table></code></div></div><ul><li>표준 입출력 옵션(-it)을 추가 안한 경우 컨테이너를 실행하고 바로 종료된다.<li>ex&gt; shell 이미지인 centos를 -it 옵션을 추가하지 않고 실행시켜 본다.</ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>&gt; docker container run --name c1 centos
&gt; docker container ls -a
CONTAINER ID        IMAGE               COMMAND              CREATED             STATUS                         PORTS               NAMES
56154a39a0bc        centos              "/bin/bash"          6 seconds ago       Exited (0) 5 seconds ago                           c1
</pre></table></code></div></div><h4 id="container-재시작"><span class="mr-2"><strong>Container 재시작</strong></span><a href="#container-재시작" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p><code class="language-plaintext highlighter-rouge">docker container restart [OPTIONS] CONTAINER [CONTAINER...]</code></p><ul><li>Container를 재시작할 때는 <code class="language-plaintext highlighter-rouge">docker container restart</code> 명령을 사용한다.</ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre>&gt; docker container restart --help
Usage:  docker container restart [OPTIONS] CONTAINER [CONTAINER...]
Restart one or more containers
Options:
  -t, --time int   Seconds to wait for stop before killing the container
                   (default 10)
</pre></table></code></div></div><ul><li>-t –time 옵션을 사용하면 n초 후 Container를 재시작할 수 있다.<ul><li>ex&gt; 2초 후 c1 Container를 재시작한다.</ul></ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>&gt; docker container ls -a
CONTAINER ID        IMAGE               COMMAND             CREATED              STATUS                        PORTS               NAMES
2a3a5409c47e        centos              "/bin/bash"         About a minute ago   Exited (137) 56 seconds ago                       c1
&gt; docker container restart -t 2 2a3
2a3
&gt; docker container ls -a
CONTAINER ID        IMAGE               COMMAND             CREATED              STATUS              PORTS               NAMES
2a3a5409c47e        centos              "/bin/bash"         About a minute ago   Up 4 seconds                            c1
</pre></table></code></div></div><ul><li>Container 안에서 실행하는 명령의 종료 STATUS에 따라 컨테이너를 자동으로 재시작하고 싶은 경우는 <code class="language-plaintext highlighter-rouge">docker container run 명령에서 --restart 옵션</code>을 사용한다.(default는 restart no 이다.)<ul><li>ex&gt; Container가 종료될 경우 Docker가 다시 시작하도록 redis Container를 실행한다.</ul></ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>&gt; docker container run --restart=always redis
</pre></table></code></div></div><div class="table-wrapper"><table><thead><tr><th>Policy<th>Result<tbody><tr><td>no<td>컨테이너가 종료되면 자동으로 재시작하지 않는다.(default)<tr><td>on-failure<td>컨테이너가 0이 아닌 종료상태로 종료될 때만 다시 시작한다. 선택적으로 docker 데몬이 시도하는 재시작 횟수를 제한할 수 있다.<tr><td>always<td>종료 상태에 관계 없이 항상 컨테이너를 다시 시작한다.<tr><td>unless-stopped<td>컨테이너가 중지 상태가 된 경우를 제외하고는 재시작한다.</table></div><h4 id="container-삭제"><span class="mr-2"><strong>Container 삭제</strong></span><a href="#container-삭제" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p><code class="language-plaintext highlighter-rouge">docker container rm [OPTIONS] CONTAINER [CONTAINER...]</code></p><ul><li>중지(Exited)된 Container를 삭제할 때는 <code class="language-plaintext highlighter-rouge">docker container rm</code>명령을 사용한다.</ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>&gt; docker container rm --help
&gt; Usage:  docker container rm [OPTIONS] CONTAINER [CONTAINER...]
Remove one or more containers
Options:
  -f, --force     Force the removal of a running container (uses SIGKILL)
  -l, --link      Remove the specified link
  -v, --volumes   Remove the volumes associated with the container
</pre></table></code></div></div><ul><li>여러 개의 Container를 한꺼번에 삭제할 때는 인수에 Container 식별자를 여러개 지정한다.<ul><li>ex&gt; c1, c2, c3 이름의 컨테이너 삭제</ul></ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre>&gt; docker container ls -a
CONTAINER ID        IMAGE               COMMAND              CREATED             STATUS                      PORTS               NAMES
4469905e024a        centos              "/bin/bash"          5 seconds ago       Exited (0) 3 seconds ago                        c3
856aefb5aba6        centos              "/bin/bash"          12 seconds ago      Exited (0) 8 seconds ago                        c2
edf6a916287b        centos              "/bin/bash"          19 seconds ago      Exited (0) 14 seconds ago                       c1
97d54155d306        httpd               "httpd-foreground"   3 minutes ago       Exited (0) 3 minutes ago                        web2
ca3d7fffa89e        httpd               "httpd-foreground"   12 minutes ago      Up 12 minutes               80/tcp              web1
&gt; docker container rm c1 c2 c3
c1
c2
c3
&gt; docker container ls -a
CONTAINER ID        IMAGE               COMMAND              CREATED             STATUS                     PORTS               NAMES
97d54155d306        httpd               "httpd-foreground"   3 minutes ago       Exited (0) 3 minutes ago                       web2
ca3d7fffa89e        httpd               "httpd-foreground"   12 minutes ago      Up 12 minutes              80/tcp              web1
</pre></table></code></div></div><ul><li>Container를 삭제하려면 먼저 중지(Exited) 상태여야한다.<ul><li>ex&gt; 실행 중인 Container c1을 삭제한다.</ul></ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>&gt; docker container rm c1
Error response from daemon: You cannot remove a running container 2a3a5409c47ef31c226b5c34ca011a801ca5ca2b8163975b743ba78670ca9c67. Stop the container before attempting removal or force remove
</pre></table></code></div></div><ul><li><code class="language-plaintext highlighter-rouge">-f 옵션</code>: 실행 중인 상태의 Container를 갈제적으로 삭제한다.<ul><li>ex&gt; web1 이름의 실행 중인 컨테이너를 삭제한다.</ul></ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>&gt; docker container ls
CONTAINER ID        IMAGE               COMMAND              CREATED             STATUS              PORTS               NAMES
ca3d7fffa89e        httpd               "httpd-foreground"   13 minutes ago      Up 13 minutes       80/tcp              web1
&gt; docker container rm -f web1
web1
&gt; docker container ls -a
CONTAINER ID        IMAGE               COMMAND              CREATED             STATUS                     PORTS               NAMES
97d54155d306        httpd               "httpd-foreground"   4 minutes ago       Exited (0) 3 minutes ago                       web2
</pre></table></code></div></div><ul><li>새로 이름 붙인 Container를 생성할 때 같은 이름을 가진 기존 Container가 존재하는 경우 새로운 Container를 생성할 수 없다.(같은 이름의 Container를 삭제해야한다.)</ul><h4 id="불필요한-이미지컨테이너를-일괄-삭제"><span class="mr-2"><strong>불필요한 이미지/컨테이너를 일괄 삭제</strong></span><a href="#불필요한-이미지컨테이너를-일괄-삭제" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p><code class="language-plaintext highlighter-rouge">docker system prune [OPTIONS]</code></p><ul><li><code class="language-plaintext highlighter-rouge">docker system prune</code> 명령을 사용하면 사용하지 않는 이미지, 컨테이너, 볼륨, 네트워크를 일괄적으로 삭제할 수 있다.</ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>&gt; docker system prune --help
Usage:  docker system prune [OPTIONS]
Remove unused data
Options:
  -a, --all             Remove all unused images not just dangling ones
      --filter filter   Provide filter values (e.g. 'label==')
  -f, --force           Do not prompt for confirmation
      --volumes         Prune volumes
</pre></table></code></div></div><ul><li>ex&gt; 사용하지 않는 리소스를 모두 삭제한다. 디스크 낭비를 줄일 수 있다.</ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre>&gt; docker system prune -a
WARNING! This will remove:
        - all stopped containers
        - all networks not used by at least one container
        - all images without at least one container associated to them
        - all build cache
Are you sure you want to continue? [y/N] y
Deleted Containers:
d3ed594d193b0d3402a447a85a3278ff335b329c4b92801e6c24ada0404ed2ad
Deleted Networks:
temp_default
...&lt;생략&gt;...
Total reclaimed space: 4.332GB
</pre></table></code></div></div><ul><li>실행 중이 아닌 모든 컨테이너를 삭제하는 명령은 <code class="language-plaintext highlighter-rouge">docker container prune</code>이다. 정지시킨 대부분의 컨테이너는 그리 쓸모가 없기 때문에 정기적으로 이들을 삭제하는 것이 좋다.</ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>&gt; docker container prune
</pre></table></code></div></div><ul><li><code class="language-plaintext highlighter-rouge">docker image prune</code> 명령은 태그가 붙지 않은(dangling) 모든 이미지를 삭제한다.</ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>&gt; docker image prune
</pre></table></code></div></div><h4 id="container-중단"><span class="mr-2"><strong>Container 중단</strong></span><a href="#container-중단" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p><code class="language-plaintext highlighter-rouge">docker container pause CONTAINER [CONTAINER...]</code></p><ul><li>실행중인 컨테이너에서 작동 중인 프로세스를 모두 중단시킬 때는 <code class="language-plaintext highlighter-rouge">docker container pause</code>명령을 사용한다.</ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>&gt; docker container pause --help
Usage:  docker pause CONTAINER [CONTAINER...]
Pause all processes within one or more containers
</pre></table></code></div></div><ul><li>STATUS 필드에 (Paused)가 표시되어 있으면 컨테이너가 일시 중지된 상태이다.<ul><li>ex&gt; web1 컨테이너 일시 중지한다.</ul></ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>&gt; docker container ls
CONTAINER ID        IMAGE               COMMAND              CREATED             STATUS              PORTS               NAMES
1e220a23ba2e        httpd               "httpd-foreground"   12 minutes ago      Up 12 minutes       80/tcp              web1
&gt; docker container pause web1
web1
&gt; docker container ls
CONTAINER ID        IMAGE               COMMAND              CREATED             STATUS                   PORTS               NAMES
1e220a23ba2e        httpd               "httpd-foreground"   12 minutes ago      Up 12 minutes (Paused)   80/tcp              web1
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>Note
[STOP VS PAUSE]

STOP: 컨테이너가 사용 중인 자원 모두 해제한다.
PAUSE: 컨테이너가 사용 중인 자원 해제하지 않는다.
</pre></table></code></div></div><h4 id="container-재개"><span class="mr-2"><strong>Container 재개</strong></span><a href="#container-재개" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p><code class="language-plaintext highlighter-rouge">docker container unpause CONTAINER [CONTAINER...]</code></p><ul><li>중지중인 컨테이너를 재개할 때는 <code class="language-plaintext highlighter-rouge">docker container unpause</code>명령을 사용한다.</ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>&gt; docker container unpause --help
Usage:  docker unpause CONTAINER [CONTAINER...]
Unpause all processes within one or more containers
</pre></table></code></div></div><h2 id="4-container-확인"><span class="mr-2">4. Container 확인</span><a href="#4-container-확인" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p><code class="language-plaintext highlighter-rouge">docker container ls [OPTION]</code></p><ul><li>ps 명령어와 같이 가동 중인 Container 리시트를 보여준다.</ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre>&gt; docker container ls --help
Usage:  docker container ls [OPTIONS]
List containers
Aliases:
  ls, ps, list
Options:
  -a, --all             Show all containers (default shows just running)
  -f, --filter filter   Filter output based on conditions provided
      --format string   Pretty-print containers using a Go template
  -n, --last int        Show n last created containers (includes all
                        states) (default -1)
  -l, --latest          Show the latest created container (includes all
                        states)
      --no-trunc        Don't truncate output
  -q, --quiet           Only display numeric IDs
  -s, --size            Display total file sizes
</pre></table></code></div></div><ul><li>-q 옵션을 사용하면 Container ID만을 추출할 수 있다.<li>표시할 Container를 필터링할 때는 -f 옵션을 지정한다.(Filtering 조건은 key=value로 지정한다.)<ul><li>ex&gt; 이름이 c1인 Container를 조회한다.</ul></ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>&gt; docker container ls -a -f name=c1
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
2a3a5409c47e        centos              "/bin/bash"         About an hour ago   Up About an hour                        c1
</pre></table></code></div></div><ul><li>출력 형식을 변경하고 싶을 때는 <code class="language-plaintext highlighter-rouge">--format</code> 옵션을 지정한다.<ul><li>ex&gt; Container ID와 가동 중인지 아닌지의 상태를 콜론으로 구분하여 표시한다.</ul></ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>&gt; docker container ls -a --format ": "
c1: Up About an hour 
</pre></table></code></div></div><h4 id="container-가동-확인"><span class="mr-2"><strong>Container 가동 확인</strong></span><a href="#container-가동-확인" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p><code class="language-plaintext highlighter-rouge">docker container stats [OPTIONS] [CONTAINER...]</code></p><ul><li>Container 가동 상태가 실시간 목록으로 표시된다.</ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>&gt; docker container stats --help
Usage:  docker container stats [OPTIONS] [CONTAINER...]
Display a live stream of container(s) resource usage statistics
Options:
  -a, --all             Show all containers (default shows just running)
      --format string   Pretty-print images using a Go template
      --no-stream       Disable streaming stats and only pull the first result
      --no-trunc        Do not truncate output
</pre></table></code></div></div><ul><li>ex&gt; c1 Container의 가동 상황을 확인한다.</ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>&gt; docker container stats c1
CONTAINER ID        NAME                CPU %               MEM USAGE / LIMIT   MEM %               NET I/O             BLOCK I/O           PIDS
2a3a5409c47e        c1                  0.00%               948KiB / 1.934GiB   0.05%               1.39kB / 0B         0B / 0B             1
CONTAINER ID        NAME                CPU %               MEM USAGE / LIMIT   MEM %               NET I/O             BLOCK I/O           PIDS
2a3a5409c47e        c1                  0.00%               948KiB / 1.934GiB   0.05%               1.39kB / 0B         0B / 0B             1
CONTAINER ID        NAME                CPU %               MEM USAGE / LIMIT   MEM %               NET I/O             BLOCK I/O           PIDS
2a3a5409c47e        c1                  0.00%               948KiB / 1.934GiB   0.05%               1.39kB / 0B         0B / 0B             1
CONTAINER ID        NAME                CPU %               MEM USAGE / LIMIT   MEM %               NET I/O             BLOCK I/O           PIDS
2a3a5409c47e        c1                  0.00%               948KiB / 1.934GiB   0.05%               1.39kB / 0B         0B / 0B             1 
</pre></table></code></div></div><h4 id="container-세부사항-확인"><span class="mr-2"><strong>Container 세부사항 확인</strong></span><a href="#container-세부사항-확인" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p><code class="language-plaintext highlighter-rouge">docker sontainer inspect</code></p><ul><li>Container 뿐만 아니라 docker에서 사용되는 Network, Volume 등 모든 리소스를 자세히 확인한다.</ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>&gt; docker container inspect --help
Usage:  docker inspect [OPTIONS] NAME|ID [NAME|ID...]
Return low-level information on Docker objects
Options:
  -f, --format string   Format the output using the given Go template
  -s, --size            Display total file sizes if the type is container
      --type string     Return JSON for specified type
</pre></table></code></div></div><ul><li>ex&gt; 이름이 c1인 Container를 자세히 확인한다.</ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre>&gt; docker container ls
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
c8fe27fdfc39        centos              "bash"              6 minutes ago       Up 16 seconds                           stoic_kalam
&gt; docker container inspect c8f
[
    {
        "Id": "c8fe27fdfc390389b7612f7465c9299d93cf888c855757e39bb62b5fe918da69",
        "Created": "2018-10-22T06:11:58.00252796Z",
... &lt;생략&gt;
                    "DriverOpts": null
                }
            }
        }
    }
]
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/docker/'>Docker</a>, <a href='/categories/chapter-3-%EC%BB%A8%ED%85%8C%EC%9D%B4%ED%84%B0/'>Chapter 3(컨테이터)</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/docker-container/" class="post-tag no-text-decoration" >Docker Container</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=1.+Container+%EC%86%8C%EA%B0%9C+-+Banjung%60s+Blog&url=https%3A%2F%2Fhongwoojeon.github.io%2Fposts%2FChap3-Container%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=1.+Container+%EC%86%8C%EA%B0%9C+-+Banjung%60s+Blog&u=https%3A%2F%2Fhongwoojeon.github.io%2Fposts%2FChap3-Container%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fhongwoojeon.github.io%2Fposts%2FChap3-Container%2F&text=1.+Container+%EC%86%8C%EA%B0%9C+-+Banjung%60s+Blog" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Chap0-DesignPattern-Summary/">1. Design Pattern Summary</a><li><a href="/posts/UML_Diagram/">UML 다이어그램</a><li><a href="/posts/UseCase_Diagram/">Use Case 다이어그램</a><li><a href="/posts/Chap1-DesignPattern-%EA%B5%AC%EC%A1%B0/">1. Design Pattern 구조패턴</a><li><a href="/posts/Chap1-DesignPattern-%ED%96%89%EC%9C%84/">1. Design Pattern 행위패턴</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/docker-command/">Docker Command</a> <a class="post-tag" href="/tags/design-pattern/">Design Pattern</a> <a class="post-tag" href="/tags/%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4-%EA%B3%B5%ED%95%99/">소프트웨어 공학</a> <a class="post-tag" href="/tags/akka-net/">Akka.net</a> <a class="post-tag" href="/tags/docker-container-controll/">Docker Container Controll</a> <a class="post-tag" href="/tags/docker-container-%ED%8C%8C%EC%9D%BC-%EC%84%A4%EC%A0%95/">Docker Container 파일 설정</a> <a class="post-tag" href="/tags/docker-container-%ED%99%98%EA%B2%BD-%EB%B0%8F-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC/">Docker Container 환경 및 네트워크</a> <a class="post-tag" href="/tags/docker-container/">Docker Container</a> <a class="post-tag" href="/tags/docker-file/">Docker File</a> <a class="post-tag" href="/tags/docker-intro/">Docker Intro</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Chap3-Container_Controll/"><div class="card-body"> <em class="timeago small" data-ts="1649854800" > 2022-04-13 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>2. Container 조작</h3><div class="text-muted small"><p> 0. Summary 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 ## 컨테이너 접근 &amp;gt; docker container attach webserver ## 컨테이너에서 어플리케이션 실행 &amp;gt; docker container exec -it webserver /bin/echo &quot;Hello world&quot; ## 컨테이...</p></div></div></a></div><div class="card"> <a href="/posts/Chap3-Container_EnvAndNetwork/"><div class="card-body"> <em class="timeago small" data-ts="1650200400" > 2022-04-17 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>3. Container 환경 및 네트워크</h3><div class="text-muted small"><p> Summary 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 ## 컨테이너 환경변수 설정 &amp;gt; docker container run -d -e MYSQL_ROOT_PASSWORD=1234 --name db1...</p></div></div></a></div><div class="card"> <a href="/posts/Chap3-Container_File/"><div class="card-body"> <em class="timeago small" data-ts="1650373200" > 2022-04-19 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>4. Container File 설정</h3><div class="text-muted small"><p> 0. Summary 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 ## 컨테이너로부터 이미지 생성 &amp;gt; docker container run -it --name c1 centos &amp;gt; docker container commit c1 centos:hello ##...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Chap2-ImageManage/" class="btn btn-outline-primary" prompt="Older"><p>1. Image 관리</p></a> <a href="/posts/Chap4-Docker_File/" class="btn btn-outline-primary" prompt="Newer"><p>1. Docker File</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/HongwooJeon">Banjung</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/docker-command/">Docker Command</a> <a class="post-tag" href="/tags/design-pattern/">Design Pattern</a> <a class="post-tag" href="/tags/%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4-%EA%B3%B5%ED%95%99/">소프트웨어 공학</a> <a class="post-tag" href="/tags/akka-net/">Akka.net</a> <a class="post-tag" href="/tags/docker-container-controll/">Docker Container Controll</a> <a class="post-tag" href="/tags/docker-container-%ED%8C%8C%EC%9D%BC-%EC%84%A4%EC%A0%95/">Docker Container 파일 설정</a> <a class="post-tag" href="/tags/docker-container-%ED%99%98%EA%B2%BD-%EB%B0%8F-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC/">Docker Container 환경 및 네트워크</a> <a class="post-tag" href="/tags/docker-container/">Docker Container</a> <a class="post-tag" href="/tags/docker-file/">Docker File</a> <a class="post-tag" href="/tags/docker-intro/">Docker Intro</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><script src="https://cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js"></script> <script> $(function() { function updateMermaid(event) { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { const mode = event.data.message; if (typeof mermaid === "undefined") { return; } let expectedTheme = (mode === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* Re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } let initTheme = "default"; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches ) ) { initTheme = "dark"; } let mermaidConf = { theme: initTheme /* <default|dark|forest|neutral> */ }; /* Markdown converts to HTML */ $("pre").has("code.language-mermaid").each(function() { let svgCode = $(this).children().html(); $(this).addClass("unloaded"); $(this).after(`<div class=\"mermaid\">${svgCode}</div>`); }); mermaid.initialize(mermaidConf); window.addEventListener("message", updateMermaid); }); </script><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script> /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */ MathJax = { tex: { inlineMath: [ /* start/end delimiter pairs for in-line math */ ['$','$'], ['\\(','\\)'] ], displayMath: [ /* start/end delimiter pairs for display math */ ['$$', '$$'], ['\\[', '\\]'] ] } }; </script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"> </script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
